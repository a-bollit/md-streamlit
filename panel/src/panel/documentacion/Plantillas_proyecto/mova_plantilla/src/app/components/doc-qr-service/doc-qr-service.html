<section class="view-default-style">

  <!-- Componente -->
  <mv-card class="card-code">
    <mv-card-title><strong>Documentación qr-service</strong></mv-card-title>

    <!-- Índice de la documentación -->
    <div>
      <a class="nostyle" (click)='info.scrollIntoView({behavior: "smooth",block: "start"})'>
        <mv-icon>link</mv-icon> Información
      </a>
    </div>
    <p>Eventos:</p>
    <ol class="ol-code">
      <li><a class="nostyle" (click)='initScan.scrollIntoView({behavior: "smooth",block: "start"})'>
        <mv-icon>link</mv-icon> initScan
      </a></li>
    </ol>

  </mv-card>

  <!-- Información -->
  <mv-card class="card-code">

    <mv-card-header>
      <div mv-card-avatar><mv-icon>code</mv-icon></div>
      <mv-card-title #info><strong>Información</strong></mv-card-title>
      <mv-card-subtitle>Información del servicio <strong>mv-qr-service</strong>.</mv-card-subtitle>
    </mv-card-header>

    <mv-card-content>

      <p>Este servicio sirve para leer códigos qr desde un dispositivo móvil.</p>

    </mv-card-content>
  </mv-card>

  <!-- initScan -->
  <mv-card class="card-code">
    <mv-card-header>
      <div mv-card-avatar><mv-icon>code</mv-icon></div>
      <mv-card-title #initScan><strong>initScan</strong></mv-card-title>
      <mv-card-subtitle>Comienza el escaneo.</mv-card-subtitle>
    </mv-card-header>

    <mv-card-content>

      <p><em>initScan(successCallback, errorCallback, properties)</em></p>
      <ul>
        <li>successCallback: función que se ejecutará en caso de lectura correcta</li>
      </ul>
      <ul>
        <li>errorCallback: función que se ejecutará en caso de error</li>
      </ul>
      <ul>
        <li>properties</li>
        <ul>
          <li>preferFrontCamera: mostrar la cámara frontal. Por defecto false</li>
          <li>showFlipCameraButton: mostrar botón de cambio de cámara. Por defecto false</li>
          <li>showTorchButton: mostrar botón de linterna. Por defecto false</li>
          <li>torchOn: linterna activada. Por defecto false. Sólo en Android</li>
          <li>saveHistory: guardar historial de escaneos. Por defecto false. Sólo en Android</li>
          <li>prompt: mensaje a mostrar al usuario. Por defecto ''. Sólo en Android</li>
          <li>resultDisplayDuration: tiempo durante el que mostrar el resultado. Por defecto 0. Sólo en Android</li>
          <li>formats: formatos aceptados. Por defecto 'QR_CODE'</li>
          <li>orientation: orientación ('portrait'|'landscape'). Por defecto 'portrait'. Sólo en Android</li>
          <li>disableAnimations: deshabilitar animaciones. Por defecto true. Sólo en iOS</li>
          <li>disableSuccessBeep: deshabilitar sonido en caso correcto. Por defecto false</li>
        </ul>
      </ul>

      <p>El resultado de las funciones de callback será un objeto con las siguientes datos:</p>
      <ul>
        <ul>
          <li>cancelled: 0 o 1 en función de si ha sido cancelado por el usuario o por haber reconocido un código QR</li>
          <li>text: Texto que devuelve el código QR. Puede ser texto plano o una url.</li>
          <li>format: QR_CODE si es un código QR.</li>
        </ul>
      </ul>

      <p>Para ver todas las especificaciones y compatibilidades ver la documentación del plugin:
        <a rel="noopener noreferrer" href="https://github.com/phonegap/phonegap-plugin-barcodescanner" target="_blank"><strong>https://github.com/phonegap/phonegap-plugin-barcodescanner</strong></a></p>

      <mv-tab-group>
        <mv-tab label="HTML">
          <pre><code [highlight]="codeInitScanExampleHTML"></code></pre>
        </mv-tab>
        <mv-tab label="TS">
          <pre><code [highlight]="codeInitScanExampleTS"></code></pre>
        </mv-tab>
      </mv-tab-group>

      <mv-button
        appearance="raised"
        color="primary"
        (clickEvent)="initScanExample()">
        initScan
      </mv-button>

      <p>Resultado del escaneo: <strong>{{scanResult | json}}</strong></p>

    </mv-card-content>
  </mv-card>

</section>

<mv-button-scroll-to-top>
</mv-button-scroll-to-top>
